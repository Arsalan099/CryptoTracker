<html>
<head>
     <script src="http://code.jquery.com/jquery-latest.min.js"></script>
</head>

<body>
<div id="output_box">
{% if cryptos_detail %}
    <table border="2">
    <tr>
        <td><b>S.no</b></td>
        <td><b>Name</b></td>
        <td><b>Market Cap</b></td>
        <td><b>Price</b></td>
        <td><b>Volume(24h)</b></td>
        <td><b>Change(24h)</b></td>
        <td><b>Graph(7d)</b></td>

    </tr>

    {% for cryptos in cryptos_detail %}
        <tr>
            <td>
                {{ cryptos.id }}
            </td>
            <td>
                <img src="{{ cryptos.crypto_logo }}">
            {{ cryptos.crypto_name }}
            </td>
            <td>
                {{ cryptos.crypto_market_cap }}
            </td>
            <td>
            {{ cryptos.crypto_price }}
            </td>
            <td>
            {{ cryptos.crypto_volume }}
            </td>
            <td>
            {{ cryptos.crypto_change }}
            </td>
        <td>
            <img src="{{ cryptos.crypto_graph }}">
        </td>
        </tr>

    {% endfor %}

    </table>

{% endif %}

</div>

<script>

$(document).ready(function() {
  $.ajaxSetup({ cache: false }); // This part addresses an IE bug.  without it, IE will only load the first number and will never refresh
  var my_refresh = setInterval(function() {
    $('#output_box').load('/home/get_log/');
  }, 10000); // the "1000"
});

</script>
</body>
</html>
